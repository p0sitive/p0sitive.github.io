
<html>
  <head lang="zh">
        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/>
        <meta content="yes" name="apple-mobile-web-app-capable"/>
        <meta content="black" name="apple-mobile-web-app-status-bar-style"/>
        <meta content="telephone=no" name="format-detection"/>
        <meta name="renderer" content="webkit">
    <title>å†™ç»™Androidå·¥ç¨‹å¸ˆçš„æ³›å‹æ–‡æ¡£ | æ…•å­æ²³çš„åšå®¢</title>
<link href="http://p0sitive.github.io//styles/main.css" type="text/css" rel="stylesheet"/>
<script type="text/javascript" src="http://p0sitive.github.io//media/scripts/jquery.js"></script>
<script type="text/javascript" src="http://p0sitive.github.io//media/scripts/basic.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  </head>

  <body>
     <div class="header">
      <div class="logo_title">
		  
        <div class="title animated fadeInDown"><img src="http://p0sitive.github.io//images/avatar.png?v=1655459944852"/>

          <h1 title="æ…•å­æ²³çš„åšå®¢" class="weaklink"><a href="/">æ…•å­æ²³çš„åšå®¢</a>

          </h1>

          <div class="navbar weaklink">
            <div class="normal_nav">

<div class="bitcron_nav_container">


  <div class="bitcron_nav">
    <div class="mixed_site_nav_wrap site_nav_wrap">
		
      <ul class="mixed_site_nav site_nav sm sm-base">
 
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a>

  </li>
 
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a>

  </li>
 
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a>

  </li>
 
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="http://p0sitive.github.io//post/other/" class="selected active current nav__item" >å…¶ä»–</a>

  </li>
 

      </ul>

      <div class="clear clear_nav_inline_end"></div>

    </div>

  </div>



  <div class="clear clear_nav_end"></div>

</div>

            </div>

            <div class="hamberger"><i class="fa fa-bars"></i>
<i class="fa fa-times"></i>

            </div>

          </div>

        </div>

      </div>

      <div class="hidden_nav animated fadeInDown">

<div class="bitcron_nav_container">


  <div class="bitcron_nav">
    <div class="mixed_site_nav_wrap site_nav_wrap">
      <ul class="mixed_site_nav site_nav sm sm-base">
		  
	
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a>

  </li>


  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a>

  </li>


  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a>

  </li>


  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="http://p0sitive.github.io//post/other/" class="selected active current nav__item" >å…¶ä»–</a>

  </li>





      </ul>

      <div class="clear clear_nav_inline_end"></div>

    </div>

  </div>



  <div class="clear clear_nav_end"></div>

</div>

      </div>

    </div>


    <div class="main">
      <div class="main-inner">


<div class="content">






  <div class="post_page" >

<div class="post">
  <div class="post_title sm_margin">
    <h2><a>å†™ç»™Androidå·¥ç¨‹å¸ˆçš„æ³›å‹æ–‡æ¡£</a>



    </h2>
  </div>

  <div class="post_details">
    <div class="info"><i class="fa fa-clock-o"></i>
<span class="date_info">2021-07-19</span>
<i class="fa fa-eye"></i>

<span class="date_info"><span id="busuanzi_value_page_pv"></span> Views</span>


<i class="fa fa-bookmark-o"></i>
<span class="tags_info weaklink">
	
	<a href="http://p0sitive.github.io/tag/android/" class="tag">android</a>


</span>


    </div>

  </div>





  <div class="post_content markdown"><p class="md_block">
    <span class="md_line md_line_start md_line_end"><h2 id="ä»€ä¹ˆæ˜¯æ³›å‹">ä»€ä¹ˆæ˜¯æ³›å‹</h2>
<p>æ³›å‹ï¼Œå³â€œæ³›åŒ–ç±»å‹â€ã€‚</p>
<p>é‚£â€œæ³›åŒ–ç±»å‹â€æ˜¯ä»€ä¹ˆï¼Ÿå…ˆä»å‚æ•°è¯´èµ·ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“å‚æ•°æ˜¯æ–¹æ³•ä¸­è¦ä¼ é€’çš„å€¼ï¼Œå®šä¹‰æ–¹æ³•å¡«å†™çš„æ˜¯å½¢å‚ï¼Œè°ƒç”¨æ–¹æ³•ä¼ å…¥çš„æ˜¯å®å‚ã€‚æ³›åŒ–ç±»å‹å°±æ˜¯å°†åŸæ¥å…·ä½“çš„ç±»å‹æŠ½è±¡åŒ–ï¼Œæ­¤æ—¶ç±»å‹ä¹Ÿå®šä¹‰æˆå‚æ•°å½¢å¼ï¼Œç„¶ååœ¨ä½¿ç”¨/è°ƒç”¨æ—¶ä¼ å…¥å…·ä½“çš„ç±»å‹</p>
<!-- more -->
<pre><code class="language-java">//a,bæ˜¯å½¢å‚
int plusNumber(int a,int b){
    return a + b;
}

//è°ƒç”¨ä¼ å…¥çš„å€¼ä¸ºå®å‚
plusNumber(1,2)

//æ³›å‹æ–¹æ³•
T plusNumber(T a, T b){
    return a + b;
}
</code></pre>
<p>æ³›å‹çš„æœ¬è´¨æ˜¯ä¸ºäº†å‚æ•°åŒ–ç±»å‹ï¼ˆåœ¨ä¸åˆ›å»ºæ–°çš„ç±»å‹çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡æ³›å‹æŒ‡å®šçš„ä¸åŒç±»å‹æ¥æ§åˆ¶å½¢å‚å…·ä½“é™åˆ¶çš„ç±»å‹ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨æ³›å‹ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæ“ä½œçš„æ•°æ®ç±»å‹è¢«æŒ‡å®šä¸ºä¸€ä¸ªå‚æ•°ã€‚è¿™ç§å‚æ•°ç±»å‹å¯ä»¥ç”¨åœ¨ç±»ã€æ¥å£å’Œæ–¹æ³•ä¸­ï¼Œåˆ†åˆ«è¢«ç§°ä¸ºæ³›å‹ç±»ã€æ³›å‹æ¥å£ã€æ³›å‹æ–¹æ³•ã€‚</p>
<p>åœ¨æˆ‘ä»¬ä½¿ç”¨è¾ƒå¤šçš„é›†åˆç±»ï¼Œå¦‚<code>ArrayList</code>,<code>HashSet</code>,<code>HashMap</code>ç­‰å°±æ˜¯æ³›å‹ç±»ã€‚å°±åƒä¸Šé¢è¯´çš„ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨è¿™äº›é›†åˆç±»æ—¶ä¸ä¼šä¸ºæ¯ä¸€ä¸ªç±»å‹å»å®ç°ä¸€ä¸ªå…·ä½“é›†åˆç±»ï¼Œå› æ­¤JDKä¸ºæˆ‘ä»¬æŠ½è±¡äº†ä¼ å…¥ç±»å‹è®¾è®¡äº†è¯¸å¤šé›†åˆç±»ã€‚</p>
<p>è¿˜éœ€è¦è¯´æ˜çš„ä¸€ç‚¹æ˜¯æ³›å‹æ˜¯Javaåœ¨1.5æ—¶å¼•å…¥çš„ï¼Œå½“æ—¶ä¸ºäº†å…¼å®¹ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå°±é€‰ç”¨äº†åœ¨ç¼–è¯‘æ—¶é€šè¿‡<code>ç±»å‹æ“¦é™¤</code>è¿™ç§æ¯”è¾ƒåˆ«æ‰­çš„æ–¹å¼æ¥å®ç°æ³›å‹ã€‚ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šæ“¦é™¤ç±»å‹å®å‚ï¼Œåœ¨è¿è¡Œæ—¶ä¸å­˜åœ¨ä»»ä½•ç±»å‹ç›¸å…³çš„ä¿¡æ¯ï¼Œæ³›å‹å¯¹äº JVM æ¥è¯´æ˜¯é€æ˜çš„ï¼Œæœ‰æ³›å‹å’Œæ²¡æœ‰æ³›å‹çš„ä»£ç é€šè¿‡ç¼–è¯‘å™¨ç¼–è¯‘åæ‰€ç”Ÿæˆçš„äºŒè¿›åˆ¶ä»£ç æ˜¯å®Œå…¨ç›¸åŒçš„</p>
<h2 id="ç±»å‹æ“¦é™¤">ç±»å‹æ“¦é™¤</h2>
<p>æˆ‘ä»¬åœ¨æ¥è§¦åˆ°æ³›å‹æ—¶å°±ä¼šå¬åˆ°æœ‰ç±»å‹æ“¦é™¤è¿™ä¸ªåè¯ã€‚</p>
<p>ç±»å‹æ“¦é™¤æ˜¯æŒ‡åœ¨ç¼–è¯‘æœŸé—´ï¼Œæ‰€æœ‰çš„æŒ‡å®šçš„æ³›å‹ä¿¡æ¯éƒ½ä¼šè¢«ç¼–è¯‘å™¨æŠ¹å»ï¼Œå˜ä¸º<code>Object</code>ç±»å‹ï¼Œåœ¨ç”Ÿæˆçš„å­—èŠ‚ç ä¸­æ˜¯ä¸åŒ…å«æ³›å‹ä¸­ç±»å‹ä¿¡æ¯çš„ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä»£ç ä¸­å®šä¹‰çš„<code>List&lt;Object&gt;</code>å’Œ<code>List&lt;String&gt;</code>ç­‰ç±»å‹ï¼Œåœ¨ç¼–è¯‘æ—¶éƒ½ä¼šå˜æˆ<code>List</code>ã€‚JVMè¯†åˆ«çš„åªæ˜¯<code>List</code>ï¼Œè€Œæˆ‘ä»¬åœ¨å®šä¹‰è¯¥<code>List&lt;String&gt;</code>ç­‰è®¾ç½®çš„æ³›å‹ä¿¡æ¯å¯¹äºJVMæ˜¯çœ‹ä¸åˆ°çš„ã€‚</p>
<pre><code class="language-java">public class Test {
    public static void main(String[] args) {
        //Stringåˆ—è¡¨
        ArrayList&lt;String&gt; list1 = new ArrayList&lt;&gt;();
        list1.add(&quot;a string&quot;);

        //Integeråˆ—è¡¨
        ArrayList&lt;Integer&gt; list2 = new ArrayList&lt;&gt;();
        list2.add(1);

        //åˆ¤æ–­ä¸¤ä¸ªListç±»å‹æ˜¯å¦ç›¸ç­‰
        System.out.println(list1.getClass() == list2.getClass());
    }
}
</code></pre>
<p>è¿™é‡Œæœ€åçš„è¾“å‡ºæ˜¯<code>true</code>ï¼Œä¸¤ä¸ªlistçš„classæ˜¯ç›¸åŒçš„ï¼Œåœ¨ç¼–è¯‘åæ³›å‹<code>String</code>å’Œ<code>Integer</code>éƒ½è¢«æ“¦é™¤æ‰äº†ï¼Œåªå‰©ä¸‹åŸå§‹ç±»å‹</p>
<p>æˆ‘ä»¬å°†ä¸Šè¿°ä»£ç è½¬ä¸ºclassæ–‡ä»¶æŸ¥çœ‹ä¸€ä¸‹</p>
<pre><code class="language-java">//Test.class
public class Test {
    public Test() {
    }

    public static void main(String[] var0) {
        //è¿™é‡Œä»…å‰©ArrayListçš„å£°æ˜
        ArrayList var1 = new ArrayList();
        var1.add(&quot;a string&quot;);
        //è¿™é‡Œä»…å‰©ArrayListçš„å£°æ˜
        ArrayList var2 = new ArrayList();
        var2.add(1);
        //ä¸¤ä¸ªç±»å‹éƒ½æ˜¯ArrayListï¼Œæ‰€ä»¥è¾“å‡ºtrue
        System.out.println(var1.getClass() == var2.getClass());
    }
}
</code></pre>
<p>æŒ‰ç…§ä¸Šæ–‡è¯´çš„<code>ArrayList</code>åœ¨ç¼–è¯‘åä¼šå°†æ³›å‹æ“¦é™¤ï¼Œåªå‰©ä¸‹åŸå§‹ç±»å‹ã€‚é‚£èƒ½å¦åœ¨<code>ArrayList&lt;String&gt;</code>åˆ—è¡¨æ·»åŠ <code>åŸå§‹ç±»å‹</code>æ•°æ®å‘¢ã€‚</p>
<p>äº‹å®ä¸Šé€šè¿‡åå°„æ˜¯å¯ä»¥æ·»åŠ ä¸åŒç±»å‹æ•°æ®çš„ï¼Œçœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p>
<pre><code class="language-java">public class Test {

    public static void main(String[] args) throws Exception {

        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();

        list.add(1);  //è¿™æ ·è°ƒç”¨ add æ–¹æ³•åªèƒ½å­˜å‚¨æ•´å½¢ï¼Œå› ä¸ºæ³›å‹ç±»å‹çš„å®ä¾‹ä¸º Integer

        list.getClass().getMethod(&quot;add&quot;, Object.class).invoke(list, &quot;string&quot;);

        for (int i = 0; i &lt; list.size(); i++) {
            System.out.println(list.get(i));
        }
    }
}
</code></pre>
<p>è¿™ä¸ªä»£ç ä¼šè¾“å‡ºï¼š</p>
<pre><code>1
string
</code></pre>
<p>Java æ³›å‹å¯¹äºç±»å‹çš„çº¦æŸåªåœ¨ç¼–è¯‘æœŸå­˜åœ¨ï¼Œè¿è¡Œæ—¶ä»ç„¶ä¼šæŒ‰ç…§ Java 5 ä¹‹å‰çš„æœºåˆ¶æ¥è¿è¡Œï¼Œæ³›å‹çš„å…·ä½“ç±»å‹åœ¨è¿è¡Œæ—¶å·²ç»è¢«åˆ é™¤äº†ï¼Œæ‰€ä»¥ JVM æ˜¯è¯†åˆ«ä¸åˆ°æˆ‘ä»¬åœ¨ä»£ç ä¸­æŒ‡å®šçš„å…·ä½“çš„æ³›å‹ç±»å‹çš„<br>
ä¾‹å¦‚ï¼Œè™½ç„¶<code>List&lt;String&gt;</code>åªèƒ½ç”¨äºæ·»åŠ å­—ç¬¦ä¸²ï¼Œä½†æˆ‘ä»¬åªèƒ½æ³›åŒ–åœ°è¯†åˆ«åˆ°å®ƒå±äº<code>List&lt;?&gt;</code>ç±»å‹ï¼Œè€Œæ— æ³•å…·ä½“åˆ¤æ–­å‡ºè¯¥ List å†…éƒ¨åŒ…å«çš„å…·ä½“ç±»å‹</p>
<pre><code class="language-java">public &lt;T&gt; void filter(T data) {
        //æ­£å¸¸
        if (data instanceof String) {

        }
        //ğŸ‘‡æŠ¥é”™ ï¼šExpression expected
        if (T instanceof String) {

        }
        //ğŸ‘‡æŠ¥é”™ ï¼šClass&lt;T&gt; is not a functional interface
        Class&lt;T&gt; tClass = T::getClass;
    }
</code></pre>
<p>åˆæ­¥çœ‹ï¼Œæ³›å‹æ“¦é™¤å¥½åƒæ˜¯æ²¡ä»€ä¹ˆå¤§çš„é—®é¢˜ï¼Œä½†æ˜¯ä»”ç»†æƒ³æƒ³ï¼Œåœ¨å¼ºåˆ¶ç±»å‹è½¬æ¢çš„æ—¶å€™ï¼Œç”±äºä¼šä¸¢æ‰ç±»å‹çš„ä¸€äº›ä¿¡æ¯ï¼Œä¼šå¯¼è‡´ä¸€äº›ä¸ç¬¦åˆé¢„æœŸçš„äº‹æƒ…ã€‚æ¯”å¦‚æœ‰ä¸ªåŸºç±» Aï¼Œå’Œå®ƒçš„ä¸¤ä¸ªå­ç±» B å’Œ C ï¼Œç„¶åæˆ‘ä»¬æœ‰ä¸‹é¢çš„ä¸€æ®µä»£ç ã€‚</p>
<pre><code class="language-java">List&lt;A&gt; listA = new ArrayList&lt;A&gt;();
listA.add(new B()); // é”™è¯¯çš„ï¼Œ
</code></pre>
<p>ç¬¬äºŒè¡Œä»£ç æ˜¯ä¸ç¬¦åˆé¢„æœŸçš„ï¼Œå› ä¸º listA é‡Œé¢æœŸæœ›æ”¾çš„æ˜¯ A è€Œä¸æ˜¯ Bã€‚ ä½†æ˜¯è¿™ä¸ªå¥½åƒä¸å¤ªç¬¦åˆé¢„æœŸï¼Œæˆ‘ä»¬æœ‰æ—¶å€™å¸Œæœ›å­ç±»æ˜¯å¯ä»¥æ”¾è¿›å®¹å™¨é‡Œé¢çš„ã€‚ä½†æ˜¯å¦‚æœæ”¯æŒè¿™ä¸ªæ“ä½œçš„è¯ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿå–å‡ºæ¥æ¥çš„æ˜¯ B è¿˜æ˜¯ C ï¼Ÿå¦‚æœä¸èƒ½æ˜ç¡®ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å®ç°â€œæ³›å‹â€ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ Java å¤§ä½¬ä»¬æƒ³äº†ä¸ªæ–¹æ³•ï¼Œæå‡ºäº†ä¸€äº›é€šé…ç¬¦æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚</p>
<h2 id="é€šé…ç¬¦">?é€šé…ç¬¦</h2>
<p>? é€šé…ç¬¦ç§°ä¸ºæ— é™é€šé…ç¬¦ï¼Œè¡¨ç¤ºä¸ç¡®å®šç±»å‹</p>
<h2 id="ä¸Šç•Œé€šé…ç¬¦-extends">ä¸Šç•Œé€šé…ç¬¦ extends</h2>
<p><code>extends</code>ä¸€èˆ¬ç§°ä¸ºä¸Šç•Œé€šé…ç¬¦ï¼Œè¡¨ç¤ºçš„æ„æ€æ˜¯ï¼šå–å€¼èŒƒå›´ä¸º (æŸä¸ªç±»çš„å­ç±», æŸä¸ªç±»]ã€‚<code>&lt;? extends E&gt;</code> çš„ç±»èƒ½ä¿è¯ä»è¿™ä¸ªå®šä¹‰ç±»ä¸­æ‹¿åˆ°çš„<code>æ•°æ®E</code>ï¼Œä¸€å®šæ˜¯Eçš„å­ç±»ã€‚å®ƒé™å®šäº†æ³›å‹çš„çˆ¶ç±»å‹ã€‚</p>
<blockquote>
<p>åœ¨ç»§æ‰¿å…³ç³»æ ‘ä¸­ï¼Œå­ç±»ç»§æ‰¿è‡ªçˆ¶ç±»ï¼Œå¯ä»¥è®¤ä¸ºçˆ¶ç±»åœ¨ä¸Šï¼Œå­ç±»åœ¨ä¸‹ã€‚å¯ä»¥å°†çˆ¶ç±»ä½œä¸ºä¸Šç•Œï¼Œå­ç±»ä½œä¸ºä¸‹ç•Œæ¥è¯´çš„è¯ã€‚</p>
</blockquote>
<p>å› æ­¤<code>extends</code>è¢«ç§°ä¸ºä¸Šç•Œé€šé…ç¬¦.</p>
<p>ä¸è¿‡ <code>extends</code>åªèƒ½ç”¨äºè¾“å‡ºï¼Œä¸èƒ½ç”¨äºè¾“å…¥ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code class="language-java">List&lt;Dog&gt; dogs = new ArrayList&lt;&gt;();
List&lt;? extends Animal&gt; animals = dogs;
Animal animal = animals.get(0);
                        //ğŸ‘† å¯ä»¥ç›´æ¥å–å‡º
animals.add(new Dog());
            //ğŸ‘† æŠ¥é”™ï¼šRequired type:capture of ? extends Animal   Provided:Dog
</code></pre>
<p>å£°æ˜äº†ä¸Šç•Œé€šé…ç¬¦æ³›å‹çš„é›†åˆï¼Œä¸å†å…è®¸ add æ–°çš„å¯¹è±¡ï¼Œå­ç±»ä¸è¡Œï¼Œçˆ¶ç±»ä¹Ÿä¸è¡Œã€‚æ‹“å±•å¼€æ¥è¯´ï¼šä¸æ­¢æ˜¯é›†åˆï¼Œè‡ªå·±å†™çš„æ³›å‹ç±»ä¹Ÿä¸è¡Œã€‚</p>
<p>ç”±äºåªèƒ½è¾“å‡ºï¼Œå‘å¤–éƒ¨æä¾›æ•°æ®ï¼Œä»è¿™ä¸ªè§’åº¦æ¥è¯´ï¼Œå‘å¤–æä¾›æ•°æ®çš„ä¸€æ–¹è¢«ç§°ä¸º<code>ç”Ÿäº§è€… Producer</code>ï¼Œå³<code>PECSåŸåˆ™</code>ä¸­çš„<code>Producer-Extends</code>ã€‚ç”Ÿäº§è€…å¯¹äºçš„<code>æ¶ˆæ¯è€… Customer</code>ï¼Œå¯¹åº”Javaé‡Œé¢å¦ä¸€ä¸ªæ³›å‹é€šé…ç¬¦ï¼š<code>ï¼Ÿ super E</code></p>
<h2 id="ä¸‹ç•Œé€šé…ç¬¦-super">ä¸‹ç•Œé€šé…ç¬¦ super</h2>
<p>ä¸‹ç•Œé€šé…ç¬¦è¡¨ç¤ºçš„æ„æ€æ˜¯ï¼šå–å€¼èŒƒå›´ä¸º [æŸä¸ªç±»ï¼Œè¿™ä¸ªç±»çš„çˆ¶ç±»)ï¼Œä¸<code>extends</code>ä»…èƒ½è¾“å‡ºç›¸åï¼Œ<code>? super E</code>åªèƒ½è¾“å…¥æ•°æ®ï¼Œä¸èƒ½è¾“å‡ºã€‚</p>
<pre><code class="language-java">List&lt;? super Dog&gt; dogs = new ArrayList&lt;&gt;();
dogs.add(new Dog());
//ğŸ‘† å¯ä»¥ç›´æ¥æ·»åŠ 
Object obj = dogs.get(0);
                //ğŸ‘† getå‡ºçš„Objectç±»å‹ï¼Œåœ¨ Java é‡Œä»»ä½•å¯¹è±¡éƒ½æ˜¯ Object çš„å­ç±»
Animal animal = dogs.get(0);
                    //ğŸ‘† æŠ¥é”™ï¼šRequired type:Animal Provided:capture of ? super Dog
</code></pre>
<p>ä¸‹ç•Œé€šé…ç¬¦ <code>? super </code>çš„æ³›å‹ï¼Œåªèƒ½è¯»å–åˆ° <code>Object</code>å¯¹è±¡ï¼Œä¸€èˆ¬æ²¡æœ‰ä»€ä¹ˆå®é™…çš„ä½¿ç”¨åœºæ™¯ï¼Œé€šå¸¸ä¹Ÿåªæ‹¿å®ƒæ¥æ·»åŠ æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æ¶ˆè´¹å·²æœ‰çš„<code>List&lt;? super E&gt;</code>ï¼Œå¾€é‡Œé¢æ·»åŠ æ•°æ®ï¼Œå› æ­¤è¿™ç§æ³›å‹ç±»å‹å£°æ˜ç§°ä¹‹ä¸º<code>æ¶ˆè´¹è€… Consumer</code>å³<code>PECSåŸåˆ™</code>ä¸­çš„<code>Consumer-Super</code>ã€‚</p>
<h2 id="åå˜-é€†å˜">åå˜ã€é€†å˜ï¼Ÿ</h2>
<p>åœ¨æˆ‘ä»¬å­¦ä¹ æ³›å‹æ—¶å¯èƒ½ä¼šå¬åˆ°ä»€ä¹ˆï¼šåå˜ã€é€†å˜ï¼Œç”šè‡³è¿˜æœ‰ä¸ªâ€ä¸å˜â€œï¼Ÿï¼Ÿï¼Ÿä¸‹é¢æ¥ä»‹ç»ä¸€ä¸‹è¿™å‡ ä¸ªåè¯æ˜¯ç”¨æ¥å¹²å˜›çš„ã€‚</p>
<p>åå˜å’Œé€†å˜éƒ½æ˜¯æœ¯è¯­ï¼Œå®ƒä»¬éƒ½æ˜¯ç”¨æ¥æè¿°æ•°æ®åœ¨å­˜å–è¿‡ç¨‹ä¸­æ˜¾ç¤ºçš„ç±»å‹ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code class="language-java">List&lt;Dog&gt; dogs = new ArrayList&lt;&gt;();
List&lt;Animal&gt; animals = dogs;
        //ğŸ‘† æŠ¥é”™ï¼šRequired type: List&lt;Animal&gt;  Provided:List&lt;Dog&gt;
</code></pre>
<p><code>Dog</code>æ˜¯<code>Animal</code>çš„å­ç±»ï¼Œä½†<code>List&lt;Dog&gt;</code>ä¸æ˜¯<code>List&lt;Animal&gt;</code>å­ç±»ï¼Œä¸Šé¢çš„èµ‹å€¼å‡ºç°äº†é”™è¯¯ã€‚è¿™æ˜¯å› ä¸ºJavaçš„æ³›å‹æœ¬èº«å…·æœ‰<strong>ä¸å¯å˜æ€§ï¼šInvariance</strong>ã€‚</p>
<h3 id="åå˜">åå˜</h3>
<p><strong><code>covariant[koÊŠËˆveriÉ™nt,koÊŠËˆvÃ¦riÉ™nt] </code></strong> åœ¨å‚æ•°ç±»å‹ä¸­çˆ¶ç±»å’Œå­ç±»åœ¨æ„é€ è¿‡ç¨‹ä¸­ä½¿ç”¨äº†æ´¾ç”Ÿç¨‹åº¦æ›´å¤§çš„çˆ¶ç±»ï¼Œå«åš<code>åå˜</code></p>
<p>ä¾‹å¦‚ä¸Šä¸ªä¾‹å­é‡Œï¼Œä¸èƒ½å°†<code>List&lt;Dog&gt;</code>èµ‹å€¼ç»™<code>List&lt;Animal&gt;</code>ï¼Œæ˜¯å› ä¸ºä»–ä»¬ä¿©ä¸å…·æœ‰ç»§æ‰¿å…³ç³»ã€‚ä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šç•Œé€šé…ç¬¦ <code>extends</code>ä½¿å¾—<code>List&lt;Dog&gt;</code>æ˜¯<code>List&lt;? extends Animal&gt;</code>å­ç±»ï¼Œæ”¹å˜äº†ä¸Šè¿°ä¸­çš„ä¸å¯å˜æ€§ï¼Œæ¥ä½¿æ³›å‹æ”¯æŒå¯å˜ï¼Œè¿™ç§å¯å˜å«åšåå˜ã€‚</p>
<pre><code class="language-java">List&lt;Dog&gt; dogs = new ArrayList&lt;&gt;();
List&lt;? extends Animal&gt; animals = dogs;
        //ğŸ‘† èµ‹å€¼é€šè¿‡
</code></pre>
<p>ä½†æ˜¯<code>extends</code>åªèƒ½è¯»å–ä¸èƒ½ä¿®æ”¹ï¼Œè¿™é‡Œçš„ä¿®æ”¹ä»…æŒ‡å¯¹æ³›å‹é›†åˆæ·»åŠ å…ƒç´ ï¼Œå¦‚æœæ˜¯ remove(int index) ä»¥åŠ clear å½“ç„¶æ˜¯å¯ä»¥çš„ã€‚</p>
<h3 id="é€†å˜">é€†å˜</h3>
<p><strong><code>contravariant [kÉ”ntrÉ™'vÃ¦riÉ™nt]</code></strong> åœ¨å‚æ•°ç±»å‹ä¸­çˆ¶ç±»å’Œå­ç±»åœ¨æ„é€ è¿‡ç¨‹ä¸­é€†è½¬äº†çˆ¶ç±»ï¼Œä½¿ç”¨äº†æ¯”çˆ¶ç±»æ´¾ç”Ÿç¨‹åº¦æ›´å°çš„å­ç±»ï¼Œå«åš<code>é€†å˜</code></p>
<p>ä¾‹å­ï¼š</p>
<pre><code class="language-java">List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();
List&lt;? super Dog&gt; dogs = animals;
        //ğŸ‘† èµ‹å€¼é€šè¿‡
</code></pre>
<p>è¿™ä¸ªä¾‹å­<code>Animal</code>æ˜¯<code>Dog</code>çš„çˆ¶ç±»ï¼Œä½†ä½¿ç”¨äº†æ³›å‹é€šé…ç¬¦<code>? super</code>ï¼Œ<code>List&lt;Animal</code>&gt;æ˜¯<code>List&lt;? super Dog&gt;</code>çš„å­ç±»ã€‚åå˜è¿˜æ¯”è¾ƒå¥½ç†è§£ï¼Œæ¯•ç«Ÿå…¶ç»§æ‰¿å…³ç³»æ˜¯ç›¸åŒçš„ï¼Œä½†é€†å˜å°±æ¯”è¾ƒåç›´è§‰äº†ï¼Œæ•´ä¸ªç»§æ‰¿å…³ç³»éƒ½å€’è¿‡æ¥äº†ã€‚</p>
<p>ä½¿ç”¨<code>? super</code>æ¥ä½¿æ³›å‹æ”¯æŒé€†å˜ï¼Œä½†æ˜¯åªèƒ½ä¿®æ”¹ä¸èƒ½è¯»å–ã€‚</p>
<blockquote>
<p>è¿™é‡Œè¯´çš„ä¸èƒ½è¯»å–æ˜¯æŒ‡ä¸èƒ½æŒ‰ç…§æ³›å‹ç±»å‹è¯»å–ï¼Œä½ å¦‚æœæŒ‰ç…§ Object è¯»å‡ºæ¥å†å¼ºè½¬å½“ç„¶ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
</blockquote>
<h2 id="kotlinä¸­çš„æ³›å‹">Kotlinä¸­çš„æ³›å‹</h2>
<p>kotlinä¹Ÿæ˜¯æ”¯æŒæ³›å‹çš„ï¼Œå’ŒJavaä¸Šä¸‹ç•Œé€šé…ç¬¦ä¸€æ ·ï¼Œkotlinä¸­ä½¿ç”¨<code>in</code>å’Œ<code>out</code>æ¥æ ‡è¯†ä¸Šä¸‹ç•Œã€‚</p>
<h3 id="inoutå…³é”®å­—">inï¼Œoutå…³é”®å­—</h3>
<p>out å’Œ in éƒ½æ˜¯ Kotlin çš„å…³é”®å­—ï¼Œå…¶ä½œç”¨éƒ½æ˜¯ä¸ºäº†æ¥åº”å¯¹æ³›å‹é—®é¢˜ã€‚in å’Œ out æ˜¯ä¸€ä¸ªå¯¹ç«‹é¢ï¼ŒåŒæ—¶å®ƒä»¬åˆä¸æ³›å‹ä¸å˜ç›¸å¯¹ç«‹ï¼Œç»Ÿç§°ä¸ºå‹å˜</p>
<ul>
<li>out å‡ºå»çš„æ„æ€ï¼Œæœ¬èº«å¸¦æœ‰å€¾å‘äºå–å€¼æ“ä½œï¼Œç”¨äºæ³›å‹åå˜ï¼Œç­‰åŒäº Java ä¸­çš„ä¸Šç•Œé€šé…ç¬¦ ? extends</li>
<li>in è¿›æ¥çš„æ„æ€ï¼Œæœ¬èº«å¸¦æœ‰å€¾å‘äºå­˜å€¼æ“ä½œï¼Œç”¨äºæ³›å‹é€†å˜ï¼Œç­‰åŒäº Java ä¸­çš„ä¸‹ç•Œé€šé…ç¬¦ ? super</li>
</ul>
<h3 id="æ”¯æŒåå˜çš„list">æ”¯æŒåå˜çš„List</h3>
<p>å¯¹ Kotlin æœ‰ä¸€å®šäº†è§£çš„åŒå­¦åº”è¯¥çŸ¥é“ï¼ŒKotlin ä¸­çš„é›†åˆæ¡†æ¶åˆ†ä¸ºä¸¤ç§å¤§ç±»ï¼šå¯è¯»å¯å†™å’Œåªèƒ½è¯»ä¸èƒ½å†™<br>
ä»¥ Java ä¸­çš„ <code>ArrayList</code> ä¸ºä¾‹ï¼ŒKotlin å°†ä¹‹åˆ†ä¸ºäº† <code>MutableList</code> å’Œ <code>List</code> ä¸¤ç§ç±»å‹çš„æ¥å£ã€‚è€Œ <code>List</code>æ¥å£ä¸­çš„æ³›å‹å·²ç»ä½¿ç”¨ <code>out</code>å…³é”®å­—è¿›è¡Œä¿®é¥°äº†ï¼Œä¸”ä¸åŒ…å«ä»»ä½•ä¼ å…¥å€¼å¹¶ä¿å­˜çš„æ–¹æ³•ï¼Œå³ List æ¥å£åªæ”¯æŒè¯»å€¼è€Œä¸æ”¯æŒå†™å€¼ã€‚</p>
<pre><code class="language-kotlin">/ Collections.kt
// Eè¢«å£°æ˜ä¸ºout
public interface List&lt;out E&gt; : Collection&lt;E&gt; {

    override val size: Int
    override fun isEmpty(): Boolean

    // Eä½œä¸ºå‡½æ•°å½¢å‚ç±»å‹ï¼Œè€Œä¸”è¿˜åŠ ä¸Šäº†@UnsafeVarianceæ³¨è§£ï¼Œä¸‹é¢ä¼šè§£é‡Š
    override fun contains(element: @UnsafeVariance E): Boolean

    // Eä½œä¸ºå‡½æ•°è¿”å›å€¼çš„ç±»å‹Iteratoræ³›å‹çš„ç±»å‹å®å‚
    override fun iterator(): Iterator&lt;E&gt;

    // Eä½œä¸ºå‡½æ•°å½¢å‚çš„ç±»å‹Collectionæ³›å‹çš„ç±»å‹å®å‚ï¼Œè€Œä¸”è¿˜åŠ ä¸Šäº†@UnsafeVarianceæ³¨è§£ï¼Œä¸‹é¢ä¼šè§£é‡Š
    override fun containsAll(elements: Collection&lt;@UnsafeVariance E&gt;): Boolean

    // Eä½œä¸ºå‡½æ•°è¿”å›å€¼çš„ç±»å‹
    public operator fun get(index: Int): E

    // Eä½œä¸ºå‡½æ•°å½¢å‚ç±»å‹ï¼Œè€Œä¸”è¿˜åŠ ä¸Šäº†@UnsafeVarianceæ³¨è§£ï¼Œä¸‹é¢ä¼šè§£é‡Š
    public fun indexOf(element: @UnsafeVariance E): Int

    // Eä½œä¸ºå‡½æ•°å½¢å‚ç±»å‹ï¼Œè€Œä¸”è¿˜åŠ ä¸Šäº†@UnsafeVarianceæ³¨è§£ï¼Œä¸‹é¢ä¼šè§£é‡Š
    public fun lastIndexOf(element: @UnsafeVariance E): Int

    // Eä½œä¸ºå‡½æ•°è¿”å›å€¼çš„ç±»å‹ListIteratoræ³›å‹çš„ç±»å‹å®å‚
    public fun listIterator(): ListIterator&lt;E&gt;

    // Eä½œä¸ºå‡½æ•°è¿”å›å€¼çš„ç±»å‹ListIteratoræ³›å‹çš„ç±»å‹å®å‚
    public fun listIterator(index: Int): ListIterator&lt;E&gt;

    // Eä½œä¸ºå‡½æ•°è¿”å›å€¼çš„ç±»å‹Listæ³›å‹çš„ç±»å‹å®å‚
    public fun subList(fromIndex: Int, toIndex: Int): List&lt;E&gt;

}
</code></pre>
<h4 id="unsafevariance">@UnsafeVariance</h4>
<blockquote>
<p>åœ¨ä¸Šé¢è¯´çš„Listæºç ä¸­ï¼Œæˆ‘ä»¬å‘ç°è™½ç„¶Listæ˜¯åå˜çš„ï¼Œä½†æ˜¯æœ‰æ—¶å‡ºç°çš„ä½ç½®æ˜¯é€†å˜çš„ä½ç½®ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå…¶å®æ˜¯å¯ä»¥å‡ºç°åœ¨ä»»ä½•ä½ç½®ä¸Šï¼Œä½†æ˜¯è¦ä¿è¯ä»¥ä¸‹ä¸¤ç‚¹å®šä¹‰ï¼šåå˜ä¿è¯æ³›å‹å†…éƒ¨æ“ä½œç±»å‹æ—¶æ˜¯åªè¯»çš„ï¼Œé€†å˜ä¿è¯æ³›å‹å†…éƒ¨æ“ä½œç±»å‹æ—¶æ˜¯åªå†™çš„ï¼Œå¤§ä½“ä¸Šè¦éµå¾ªä¸Šé¢è¯´çš„é‚£å‡ ä¸ªoutåå˜ç‚¹å’Œiné€†å˜ç‚¹ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åŠ ä¸Š@UnsafeVarianceæ³¨è§£å‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªåœ°æ–¹æ˜¯åˆæ³•ã€å®‰å…¨ï¼Œè®©å…¶é€šè¿‡ç¼–è¯‘ï¼Œå¦‚æœä¸åŠ çš„è¯ï¼Œç¼–è¯‘å™¨ä¼šè®¤ä¸ºä½ è¿™é‡Œæ˜¯ä¸åˆæ³•ï¼Œç¼–è¯‘ä¸é€šè¿‡ã€‚</p>
<p>ä¾‹å¦‚ä¸Šé¢è¯´çš„Listæºç ä¸­ï¼Œæœ‰ä¸€ä¸ªcontainså‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯æ£€æŸ¥æ­¤å…ƒç´ æ˜¯å¦åŒ…å«åœ¨æ­¤é›†åˆä¸­ï¼Œå®ƒçš„å®ç°æ–¹æ³•æ²¡æœ‰å‡ºç°å†™æ“ä½œï¼Œæ‰€ä»¥è¿™é‡Œå°±å¯ä»¥åŠ ä¸Š@UnsafeVarianceæ³¨è§£ï¼Œè®©å…¶é€šè¿‡ç¼–è¯‘å™¨ã€‚</p>
</blockquote>
<pre><code class="language-kotlin">// Collections.kt
public interface MutableList&lt;E&gt; : List&lt;E&gt;, MutableCollection&lt;E&gt; {

    // Eä½œä¸ºå‡½æ•°å½¢å‚ç±»å‹
    override fun add(element: E): Boolean

    // Eä½œä¸ºå‡½æ•°å½¢å‚ç±»å‹
    override fun remove(element: E): Boolean

    // Eä½œä¸ºå‡½æ•°å½¢å‚çš„ç±»å‹Collectionæ³›å‹çš„ç±»å‹å®å‚
    override fun addAll(elements: Collection&lt;E&gt;): Boolean

    // Eä½œä¸ºå‡½æ•°å½¢å‚çš„ç±»å‹Collectionæ³›å‹çš„ç±»å‹å®å‚
    public fun addAll(index: Int, elements: Collection&lt;E&gt;): Boolean

    // Eä½œä¸ºå‡½æ•°å½¢å‚çš„ç±»å‹Collectionæ³›å‹çš„ç±»å‹å®å‚
    override fun removeAll(elements: Collection&lt;E&gt;): Boolean

    // Eä½œä¸ºå‡½æ•°å½¢å‚çš„ç±»å‹Collectionæ³›å‹çš„ç±»å‹å®å‚
    override fun retainAll(elements: Collection&lt;E&gt;): Boolean
    override fun clear(): Unit

    // Eä½œä¸ºå‡½æ•°å½¢å‚ç±»å‹
    public operator fun set(index: Int, element: E): E

    // Eä½œä¸ºå‡½æ•°å½¢å‚ç±»å‹
    public fun add(index: Int, element: E): Unit

    // Eä½œä¸ºå‡½æ•°è¿”å›å€¼çš„ç±»å‹
    public fun removeAt(index: Int): E

    // Eä½œä¸ºå‡½æ•°è¿”å›å€¼çš„ç±»å‹MutableListIteratoræ³›å‹çš„ç±»å‹å®å‚
    override fun listIterator(): MutableListIterator&lt;E&gt;

    // Eä½œä¸ºå‡½æ•°è¿”å›å€¼çš„ç±»å‹MutableListIteratoræ³›å‹çš„ç±»å‹å®å‚
    override fun listIterator(index: Int): MutableListIterator&lt;E&gt;

    // Eä½œä¸ºå‡½æ•°è¿”å›å€¼çš„ç±»å‹MutableListæ³›å‹çš„ç±»å‹å®å‚
    override fun subList(fromIndex: Int, toIndex: Int): MutableList&lt;E&gt;

}
</code></pre>
<h3 id="å·">* å·</h3>
<p>å‰é¢è®²åˆ°äº† Java ä¸­å•ä¸ª ? å·ä¹Ÿèƒ½ä½œä¸ºæ³›å‹é€šé…ç¬¦ä½¿ç”¨ï¼Œç›¸å½“äº <code>? extends Object</code>ã€‚<br>
å®ƒåœ¨ Kotlin ä¸­æœ‰ç­‰æ•ˆçš„å†™æ³•ï¼š<code>* </code>å·ï¼Œç›¸å½“äº <code>out Any</code>ã€‚</p>
<pre><code class="language-kotlin">              ğŸ‘‡
var list: List&lt;*&gt;
</code></pre>
<p>Kotlinå’Œ Java ä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œå¦‚æœä½ çš„ç±»å‹å®šä¹‰é‡Œå·²ç»æœ‰äº† out æˆ–è€… inï¼Œé‚£è¿™ä¸ªé™åˆ¶åœ¨å˜é‡å£°æ˜æ—¶ä¹Ÿä¾ç„¶åœ¨ï¼Œä¸ä¼šè¢« * å·å»æ‰ã€‚</p>
<p>æ¯”å¦‚ä½ çš„ç±»å‹å®šä¹‰é‡Œæ˜¯ out T : Number çš„ï¼Œé‚£å®ƒåŠ ä¸Š &lt;*&gt; ä¹‹åçš„æ•ˆæœå°±ä¸æ˜¯ out Anyï¼Œè€Œæ˜¯ out Numberã€‚</p>
<h3 id="where-å…³é”®å­—">where å…³é”®å­—</h3>
<p>Java ä¸­å£°æ˜ç±»æˆ–æ¥å£çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ extends æ¥è®¾ç½®è¾¹ç•Œï¼Œå°†æ³›å‹ç±»å‹å‚æ•°é™åˆ¶ä¸ºæŸä¸ªç±»å‹çš„å­é›†ï¼š</p>
<p>å¦‚æœè¿™ä¸ªè¾¹ç•Œæ˜¯å¯ä»¥è®¾ç½®å¤šä¸ªï¼Œç”¨ <code>&amp;</code> ç¬¦å·è¿æ¥ï¼š</p>
<pre><code class="language-java">//                            ğŸ‘‡  T çš„ç±»å‹å¿…é¡»åŒæ—¶æ˜¯ Animal å’Œ Food çš„å­ç±»å‹
class Monster&lt;T extends Animal &amp; Food&gt;{ 
}
</code></pre>
<p>Kotlin åªæ˜¯æŠŠ extends æ¢æˆäº† : å†’å·ã€‚</p>
<pre><code class="language-kotlin">               ğŸ‘‡
class Monster&lt;T : Animal&gt;
</code></pre>
<p>Kotlinè®¾ç½®å¤šä¸ªè¾¹ç•Œå¯ä»¥ä½¿ç”¨ where å…³é”®å­—ï¼š</p>
<pre><code class="language-kotlin">                 ğŸ‘‡
class Monster&lt;T&gt; where T : Animal, T : Food
</code></pre>
<h3 id="reified">reified</h3>
<p>å‰é¢æœ‰è¯´åˆ°ï¼Œç”±äº Java ä¸­çš„æ³›å‹å­˜åœ¨ç±»å‹æ“¦é™¤çš„æƒ…å†µï¼Œä»»ä½•åœ¨è¿è¡Œæ—¶éœ€è¦çŸ¥é“æ³›å‹ç¡®åˆ‡ç±»å‹ä¿¡æ¯çš„æ“ä½œéƒ½æ²¡æ³•ç”¨äº†ã€‚æ¯”å¦‚ä½ ä¸èƒ½åœ¨Javaä¸­é€šè¿‡<code>instanceof</code>æˆ–kotlinä¸­ä½¿ç”¨<code>as</code>å…³é”®å­—æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ³›å‹ç±»å‹ T çš„å®ä¾‹ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜åœ¨Javaä¸­è§£å†³æ–¹å¼é€šå¸¸æ˜¯ä¼ å…¥å½“å‰ç±»å‹çš„<code>Class</code>ç±»å‹çš„å‚æ•°ï¼Œç„¶åé€šè¿‡<code>Class.isInstance</code>æ–¹æ³•æ¥æ£€æŸ¥æ˜¯å¦æ˜¯æ³›å‹ç±»ã€‚</p>
<pre><code class="language-java">                              // ğŸ‘‡ä¼ å…¥Class&lt;T&gt;
&lt;T&gt; void check(Object item, Class&lt;T&gt; type) {
    if (type.isInstance(item)) {
            //ğŸ‘† åˆ¤æ–­æ˜¯å¦æ˜¯æ³›å‹T
    }
}
</code></pre>
<p>Kotlin ä¸­åŒæ ·å¯ä»¥è¿™ä¹ˆè§£å†³ï¼Œä¸è¿‡è¿˜æœ‰ä¸€ä¸ªæ›´æ–¹ä¾¿çš„åšæ³•ï¼šä½¿ç”¨å…³é”®å­— reified é…åˆ inline æ¥è§£å†³ï¼š</p>
<pre><code class="language-kotlin">//ğŸ‘‡inlineå…³é”®å­—  ğŸ‘‡reifiedå…³é”®å­—
inline fun &lt;reified T&gt; printIfTypeMatch(item: Any) {
    if (item is T) { // ğŸ‘ˆ è¿™é‡Œå°±ä¸ä¼šåœ¨æç¤ºé”™è¯¯äº†

    }
}
</code></pre>
<p>æ€»ç»“ä¸€ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>åå˜</th>
<th>é€†å˜</th>
<th>é€šé…ç¬¦</th>
<th>åˆ¤æ–­æ³›å‹T</th>
</tr>
</thead>
<tbody>
<tr>
<td>Java</td>
<td>&lt;? extends T&gt; åªèƒ½è¾“å‡ºï¼Œä¸èƒ½è¾“å…¥<br/>ä½œä¸ºç”Ÿäº§è€…Producer</td>
<td>&lt;? super T&gt; åªèƒ½è¾“å…¥ï¼Œä¸èƒ½è¾“å‡º<br/>ä½œä¸ºæ¶ˆè´¹è€…Customer</td>
<td>?ä»£è¡¨<code>? extrend Object</code></td>
<td>ä¼ å…¥<code>Class&lt;T&gt;</code><br/>ä½¿ç”¨<code>class.isInstance(xx)</code></td>
</tr>
<tr>
<td>kotlin</td>
<td>out</td>
<td>in</td>
<td>* ä»£è¡¨ <code>out Any</code></td>
<td>1. <code>Class&lt;T&gt;</code><br/>2. <code>inline + reified</code></td>
</tr>
</tbody>
</table>
<br/>
<br/>
å‚è€ƒæ–‡ç« ï¼š
<p>https://juejin.cn/post/6935322686943920159</p>
<p>https://rengwuxian.com/kotlin-generics/</p>
<p>https://mp.weixin.qq.com/s/peSwYSpaWgN9YYPjwE3rnA</p>
<p>https://mp.weixin.qq.com/s/g9bufOxbgaZtqxMYowyxdQ</p>
<p>https://xander_wang.gitee.io/android-note/2021/02/06/android_note/android_note_01/</p>
<p>https://docs.microsoft.com/zh-cn/dotnet/standard/generics/covariance-and-contravariance</p>
</p>

     <p class="md_block">
    <div class="reward"><div class="reward-button">èµ <span class="reward-code"> <span class="alipay-code"> <img class="alipay-img" src="http://p0sitive.github.io//media/images/alipay.png"><b>æ”¯ä»˜å®æ‰«ç æ‰“èµ</b> </span> <span class="wechat-code"> <img class="wechat-img" src="http://p0sitive.github.io//media/images/wechat.png"><b>å¾®ä¿¡æ‰“èµ</b> </span> </span></div></div>
</p> 
</div>

</div>



<link href="http://p0sitive.github.io//styles/main.css" type="text/css" rel="stylesheet"/>

<div class="doc_comments">

          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: 'd91c7d19b57e27d0dce4',
    clientSecret: '17ea8ee73139e14382ef34772d66905aa0681ee8',
    repo: 'p0sitive.github.io',
    owner: 'p0sitive',
    admin: ['p0sitive'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          
			  
          
        
</div>



  </div>
</div>



      </div>




    </div>

   <div class="footer">
<link href="http://p0sitive.github.io//styles/main.css" type="text/css" rel="stylesheet"/><div class="site_footer_wrap"><div class="site_footer">

      <div class="mysocials"><div class="my_socials">
		   
			   
    
			   
    
			   
    
			   
    
</div><link href="http://p0sitive.github.io//styles/main.css" type="text/css" rel="stylesheet"/>

      </div>

      <div class="copyright">Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
      </div>

</div></div>

    </div>


<style type="text/css">a.back_to_top {
    text-decoration: none;
    position: fixed;
    bottom: 40px;
    right: 30px;
    background: #f0f0f0;
    height: 40px;
    width: 40px;
    border-radius: 50%;
    line-height: 36px;
    font-size: 18px;
    text-align: center;
    transition-duration: .5s;
    transition-propety: background-color;
    display: none;
}

a.back_to_top span {
    color: #888;
}

a.back_to_top:hover {
    cursor: pointer;
    background: #dfdfdf;
}

a.back_to_top:hover span {
    color: #555;
}

@media print, screen and (max-width: 580px) {
    .back_to_top {
        display: none !important;
    }
}



</style><a id="back_to_top" href="#" class="back_to_top"><span>â–³</span>
</a>
<script type="text/javascript" src="http://p0sitive.github.io//media/scripts/jquery.js"></script>

<script>$(document).ready((function(_this) {
  return function() {
    var bt;
    bt = $('#back_to_top');
    if ($(document).width() > 480) {
      $(window).scroll(function() {
        var st;
        st = $(window).scrollTop();
        if (st > 30) {
          return bt.css('display', 'block');
        } else {
          return bt.css('display', 'none');
        }
      });
      return bt.click(function() {
        $('body,html').animate({
          scrollTop: 0
        }, 800);
        return false;
      });
    }
  };
})(this));
</script>

</body>

</html>